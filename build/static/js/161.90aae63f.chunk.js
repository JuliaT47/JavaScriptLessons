"use strict";(self.webpackChunkgsreact=self.webpackChunkgsreact||[]).push([[161],{161:(t,c,a)=>{a.r(c),a.d(c,{default:()=>r});var e=a(907),n=a(43),s=a(213);s.A.defaults.baseURL="http://localhost:3030/";const o=async()=>(await s.A.get("contacts")).data,i=async t=>(await s.A.post("contacts",t)).data,l=async t=>{await s.A.delete("contacts/".concat(t))};var u=a(216),d=a(579);const r=()=>{const[t,c]=(0,n.useState)([]),a=(0,u.Zp)(),{data:s,isFetching:r}=((0,u.zy)(),(0,e.useQuery)(["contactList"],o,{onSuccess:t=>{c(t)},refetchOnReconnect:!1,refetchOnWindowFocus:!1})),{mutateAsync:h}=(0,e.useMutation)(i,{onSuccess:t=>{c((c=>[...c,t]))}}),{mutateAsync:k}=(0,e.useMutation)(l,{onSuccess:(t,a)=>{c((t=>t.filter((t=>t.id!==a))))}});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{children:"Contacts"}),(0,d.jsx)("button",{onClick:()=>a(-1),children:"Get back"}),r?"Loading...":(0,d.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((t=>(0,d.jsxs)("li",{children:[(0,d.jsx)("p",{children:"".concat(t.name," ").concat(t.lastName)}),(0,d.jsx)("button",{onClick:()=>(async t=>{await k(t)})(t.id),children:"Delete"})]},t.id)))}),(0,d.jsx)("button",{onClick:async()=>{await h({name:"Luke",lastName:"Skywalker"})},children:"Add new contact"})]})}}}]);
//# sourceMappingURL=161.90aae63f.chunk.js.map